import{r as V,g as I,a as U}from"./vendor-Bw76hHLb.js";(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))f(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&f(a)}).observe(document,{childList:!0,subtree:!0});function p(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function f(r){if(r.ep)return;r.ep=!0;const i=p(r);fetch(r.href,i)}})();var y={exports:{}},k={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P;function G(){if(P)return k;P=1;var o=V(),h=Symbol.for("react.element"),p=Symbol.for("react.fragment"),f=Object.prototype.hasOwnProperty,r=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(d,n,g){var c,m={},v=null,b=null;g!==void 0&&(v=""+g),n.key!==void 0&&(v=""+n.key),n.ref!==void 0&&(b=n.ref);for(c in n)f.call(n,c)&&!i.hasOwnProperty(c)&&(m[c]=n[c]);if(d&&d.defaultProps)for(c in n=d.defaultProps,n)m[c]===void 0&&(m[c]=n[c]);return{$$typeof:h,type:d,key:v,ref:b,props:m,_owner:r.current}}return k.Fragment=p,k.jsx=a,k.jsxs=a,k}var C;function M(){return C||(C=1,y.exports=G()),y.exports}var e=M(),l=V();const W=I(l);var _={},L;function Y(){if(L)return _;L=1;var o=U();return _.createRoot=o.createRoot,_.hydrateRoot=o.hydrateRoot,_}var H=Y();const K=I(H),z="modulepreload",X=function(o){return"/"+o},A={},E=function(h,p,f){let r=Promise.resolve();if(p&&p.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),d=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(p.map(n=>{if(n=X(n),n in A)return;A[n]=!0;const g=n.endsWith(".css"),c=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${c}`))return;const m=document.createElement("link");if(m.rel=g?"stylesheet":z,g||(m.as="script"),m.crossOrigin="",m.href=n,d&&m.setAttribute("nonce",d),document.head.appendChild(m),g)return new Promise((v,b)=>{m.addEventListener("load",v),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${n}`)))})}))}function i(a){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=a,window.dispatchEvent(d),!d.defaultPrevented)throw a}return r.then(a=>{for(const d of a||[])d.status==="rejected"&&i(d.reason);return h().catch(i)})},Z=(o,h,p)=>{const f=JSON.parse(localStorage.getItem("quran-reading-progress")||"{}");f[o]={lastReadVerse:h,scrollPosition:p},localStorage.setItem("quran-reading-progress",JSON.stringify(f))},ee=o=>JSON.parse(localStorage.getItem("quran-reading-progress")||"{}")[o]||null;function se(){const[o,h]=l.useState("1"),[p,f]=l.useState(""),[r,i]=l.useState("ar"),[a,d]=l.useState(""),[n,g]=l.useState([]),[c,m]=l.useState({ar:[],en:[],ur:[]}),[v,b]=l.useState(!1),[R,T]=l.useState([]);l.useState(JSON.parse(localStorage.getItem("quran-bookmarks")||"[]"));const[D,w]=l.useState(!1),[S,J]=l.useState(JSON.parse(localStorage.getItem("quran-bookmarked-surahs")||"[]")),[$,B]=l.useState(()=>localStorage.getItem("hasVisitedBefore")?!1:(localStorage.setItem("hasVisitedBefore","true"),!0)),F=s=>{const t=S.includes(s)?S.filter(u=>u!==s):[...S,s];J(t),localStorage.setItem("quran-bookmarked-surahs",JSON.stringify(t))};l.useEffect(()=>{(async()=>{const t=await E(()=>import("./quran-data-DLXl0xlH.js").then(j=>j.a),[]),u=await E(()=>import("./quran-data-DLXl0xlH.js").then(j=>j.e),[]),x=await E(()=>import("./quran-data-DLXl0xlH.js").then(j=>j.u),[]),N=await E(()=>import("./surah.name-CqwfY0mb.js"),[]);m({ar:t.default,en:u.default,ur:x.default}),T(N.default.surahs)})()},[]),l.useEffect(()=>{if(o&&c.ar.length>0){const s=c.ar.filter(t=>t.surah===parseInt(o)&&(!p||t.verse===parseInt(p)));g(s)}},[o,p,c]),l.useEffect(()=>{const s=()=>{const x=document.querySelectorAll(".verse-card");let N=null;x.forEach(j=>{const O=j.getBoundingClientRect();O.top<=window.innerHeight/2&&O.bottom>=window.innerHeight/2&&(N=j.dataset.verse)}),N&&Z(o,N,window.scrollY)};let t;const u=()=>{clearTimeout(t),t=setTimeout(s,100)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[o]),l.useEffect(()=>{if(n.length>0){const s=ee(o);s&&setTimeout(()=>{window.scrollTo({top:s.scrollPosition,behavior:"smooth"})},100)}},[n]);const q=()=>{b(!1)},Q=({onClose:s})=>(l.useState("All"),e.jsxs("div",{className:"quick-jump-panel",children:[e.jsxs("div",{className:"quick-jump-header",children:[e.jsx("h3",{children:"Quick Navigation"}),e.jsx("button",{className:"close-btn",onClick:s,children:e.jsx("span",{children:"×"})})]}),e.jsxs("div",{className:"bookmarks-section",children:[e.jsx("div",{className:"section-title",children:e.jsx("h4",{children:"Bookmarked Surahs"})}),S.map(t=>{const u=R.find(x=>x.number===t);return u&&e.jsxs("button",{className:"bookmark-item",onClick:()=>{h(t.toString()),s()},children:[e.jsx("span",{className:"bookmark-number",children:t}),e.jsx("span",{className:"bookmark-name",children:u.name}),e.jsx("span",{className:"bookmark-translation",children:u.translation})]},t)})]}),e.jsxs("div",{className:"quick-links",children:[e.jsx("div",{className:"section-title",children:e.jsx("h4",{children:"Popular Surahs"})}),e.jsx("div",{className:"quick-links-grid",children:[{number:1,name:"Al-Fatiha"},{number:36,name:"Yasin"},{number:67,name:"Al-Mulk"},{number:78,name:"An-Naba"},{number:55,name:"Ar-Rahman"},{number:56,name:"Al-Waqiah"}].map(t=>e.jsxs("button",{className:"quick-link-btn",onClick:()=>{h(t.number.toString()),s()},children:[e.jsx("span",{className:"surah-number",children:t.number}),e.jsx("span",{className:"surah-name",children:t.name})]},t.number))})]})]}));return e.jsxs("div",{className:"quran-app",children:[e.jsxs("aside",{className:`sidebar ${v?"open":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsx("h2",{children:"Surahs"}),e.jsx("button",{className:"close-sidebar",onClick:q,children:"×"})]}),e.jsx("div",{className:"sidebar-content",children:R.map(s=>e.jsxs("div",{className:"surah-item",children:[e.jsxs("button",{className:`surah-btn ${o===s.number.toString()?"active":""}`,onClick:()=>{h(s.number.toString()),q()},children:[e.jsx("span",{className:"surah-number",children:s.number}),e.jsxs("div",{className:"surah-info",children:[e.jsx("span",{className:"surah-name",children:s.name}),e.jsx("span",{className:"surah-translation",children:s.translation})]})]}),e.jsx("button",{className:"bookmark-btn",onClick:t=>{t.stopPropagation(),F(s.number)},children:S.includes(s.number)?"★":"☆"})]},s.number))})]}),e.jsxs("main",{className:"main-section",children:[e.jsxs("nav",{className:`top-nav ${r!=="ar"?"has-translation":""}`,children:[e.jsxs("button",{className:"menu-toggle",onClick:()=>b(!v),children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]}),e.jsx("div",{className:"logo",children:e.jsx("img",{src:"/src/assets/quranlogo.png",alt:"Quran App",onClick:()=>window.location.reload(),style:{cursor:"pointer"}})}),e.jsxs("div",{className:"nav-controls",children:[e.jsxs("select",{value:r,onChange:s=>i(s.target.value),className:"lang-select",children:[e.jsx("option",{value:"ar",children:"عربي"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"ur",children:"اردو"})]}),r!=="ar"&&e.jsx("select",{value:a,onChange:s=>d(s.target.value),className:"translator-select",children:[...new Set(c[r].map(s=>s.translator))].map(s=>e.jsx("option",{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"content",children:[e.jsx("div",{className:"verse-controls",children:e.jsxs("div",{className:"controls-wrapper",children:[e.jsxs("select",{value:p,onChange:s=>f(s.target.value),className:"verse-select",children:[e.jsx("option",{value:"",children:"Select Verse"}),[...Array(Math.ceil(n.length/10))].map((s,t)=>e.jsx("optgroup",{label:`Verses ${t*10+1} - ${Math.min((t+1)*10,n.length)}`,children:n.slice(t*10,(t+1)*10).map(u=>e.jsxs("option",{value:u.verse,children:["Verse ",u.verse]},u.verse))},t))]}),e.jsx("button",{className:"quick-jump-btn",onClick:()=>w(!0),children:"Quick Jump"})]})}),D&&e.jsx(Q,{onClose:()=>w(!1)}),e.jsx("div",{className:"verses-container",children:n.map(s=>{var t,u;return e.jsxs("div",{className:"verse-card","data-verse":s.verse,children:[e.jsx("div",{className:"verse-header",children:e.jsx("span",{className:"verse-number",children:s.verse})}),e.jsx("div",{className:"verse-arabic",dir:"rtl",children:s.text}),r!=="ar"&&e.jsx("div",{className:"verse-translation",lang:r,dir:r==="ur"?"rtl":"ltr",children:((u=(t=c[r])==null?void 0:t.find(x=>x.surah===s.surah&&x.verse===s.verse&&(!a||x.translator===a)))==null?void 0:u.text)||""})]},`${s.surah}-${s.verse}`)})})]})]}),$&&e.jsx("div",{className:"guide-popup",children:e.jsxs("div",{className:"guide-content",children:[e.jsx("div",{className:"guide-arrow",children:"↖"}),e.jsx("p",{children:"Click the menu icon to explore Surahs"}),e.jsx("button",{className:"guide-close",onClick:()=>B(!1),children:"Got it"})]})})]})}K.createRoot(document.getElementById("root")).render(e.jsx(W.StrictMode,{children:e.jsx(se,{})}));
