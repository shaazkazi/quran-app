import{r as T,g as D,a as M}from"./vendor-Bw76hHLb.js";(function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))f(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&f(r)}).observe(document,{childList:!0,subtree:!0});function c(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function f(n){if(n.ep)return;n.ep=!0;const i=c(n);fetch(n.href,i)}})();var y={exports:{}},k={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L;function W(){if(L)return k;L=1;var h=T(),p=Symbol.for("react.element"),c=Symbol.for("react.fragment"),f=Object.prototype.hasOwnProperty,n=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function r(d,a,x){var l,m={},g=null,b=null;x!==void 0&&(g=""+x),a.key!==void 0&&(g=""+a.key),a.ref!==void 0&&(b=a.ref);for(l in a)f.call(a,l)&&!i.hasOwnProperty(l)&&(m[l]=a[l]);if(d&&d.defaultProps)for(l in a=d.defaultProps,a)m[l]===void 0&&(m[l]=a[l]);return{$$typeof:p,type:d,key:g,ref:b,props:m,_owner:n.current}}return k.Fragment=c,k.jsx=r,k.jsxs=r,k}var A;function Y(){return A||(A=1,y.exports=W()),y.exports}var e=Y(),o=T();const H=D(o);var _={},V;function K(){if(V)return _;V=1;var h=M();return _.createRoot=h.createRoot,_.hydrateRoot=h.hydrateRoot,_}var z=K();const X=D(z),Z="modulepreload",ee=function(h){return"/"+h},I={},E=function(p,c,f){let n=Promise.resolve();if(c&&c.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),d=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));n=Promise.allSettled(c.map(a=>{if(a=ee(a),a in I)return;I[a]=!0;const x=a.endsWith(".css"),l=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${l}`))return;const m=document.createElement("link");if(m.rel=x?"stylesheet":Z,x||(m.as="script"),m.crossOrigin="",m.href=a,d&&m.setAttribute("nonce",d),document.head.appendChild(m),x)return new Promise((g,b)=>{m.addEventListener("load",g),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(r){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=r,window.dispatchEvent(d),!d.defaultPrevented)throw r}return n.then(r=>{for(const d of r||[])d.status==="rejected"&&i(d.reason);return p().catch(i)})},se=(h,p,c)=>{const f=JSON.parse(localStorage.getItem("quran-reading-progress")||"{}");f[h]={lastReadVerse:p,scrollPosition:c},localStorage.setItem("quran-reading-progress",JSON.stringify(f))},te=h=>JSON.parse(localStorage.getItem("quran-reading-progress")||"{}")[h]||null;function re(){const[h,p]=o.useState(!0),[c,f]=o.useState("1"),[n,i]=o.useState(""),[r,d]=o.useState("ar"),[a,x]=o.useState(""),[l,m]=o.useState([]),[g,b]=o.useState({ar:[],en:[],ur:[]}),[R,w]=o.useState(!1),[q,J]=o.useState([]);o.useState(JSON.parse(localStorage.getItem("quran-bookmarks")||"[]"));const[$,O]=o.useState(!1),[S,B]=o.useState(JSON.parse(localStorage.getItem("quran-bookmarked-surahs")||"[]")),[F,Q]=o.useState(()=>localStorage.getItem("hasVisitedBefore")?!1:(localStorage.setItem("hasVisitedBefore","true"),!0)),U=s=>{const t=S.includes(s)?S.filter(u=>u!==s):[...S,s];B(t),localStorage.setItem("quran-bookmarked-surahs",JSON.stringify(t))};o.useEffect(()=>{(async()=>{const t=await E(()=>import("./quran-data-DLXl0xlH.js").then(j=>j.a),[]),u=await E(()=>import("./quran-data-DLXl0xlH.js").then(j=>j.e),[]),v=await E(()=>import("./quran-data-DLXl0xlH.js").then(j=>j.u),[]),N=await E(()=>import("./surah.name-CqwfY0mb.js"),[]);b({ar:t.default,en:u.default,ur:v.default}),J(N.default.surahs),p(!1)})()},[]),o.useEffect(()=>{if(c&&g.ar.length>0){const s=g.ar.filter(t=>t.surah===parseInt(c)&&(!n||t.verse===parseInt(n)));m(s)}},[c,n,g]),o.useEffect(()=>{const s=()=>{const v=document.querySelectorAll(".verse-card");let N=null;v.forEach(j=>{const C=j.getBoundingClientRect();C.top<=window.innerHeight/2&&C.bottom>=window.innerHeight/2&&(N=j.dataset.verse)}),N&&se(c,N,window.scrollY)};let t;const u=()=>{clearTimeout(t),t=setTimeout(s,100)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[c]),o.useEffect(()=>{if(l.length>0){const s=te(c);s&&setTimeout(()=>{window.scrollTo({top:s.scrollPosition,behavior:"smooth"})},100)}},[l]);const P=()=>{w(!1)},G=({onClose:s})=>(o.useState("All"),e.jsxs("div",{className:"quick-jump-panel",children:[e.jsxs("div",{className:"quick-jump-header",children:[e.jsx("h3",{children:"Quick Navigation"}),e.jsx("button",{className:"close-btn",onClick:s,children:e.jsx("span",{children:"×"})})]}),e.jsxs("div",{className:"bookmarks-section",children:[e.jsx("div",{className:"section-title",children:e.jsx("h4",{children:"Bookmarked Surahs"})}),S.map(t=>{const u=q.find(v=>v.number===t);return u&&e.jsxs("button",{className:"bookmark-item",onClick:()=>{f(t.toString()),s()},children:[e.jsx("span",{className:"bookmark-number",children:t}),e.jsx("span",{className:"bookmark-name",children:u.name}),e.jsx("span",{className:"bookmark-translation",children:u.translation})]},t)})]}),e.jsxs("div",{className:"quick-links",children:[e.jsx("div",{className:"section-title",children:e.jsx("h4",{children:"Popular Surahs"})}),e.jsx("div",{className:"quick-links-grid",children:[{number:1,name:"Al-Fatiha"},{number:36,name:"Yasin"},{number:67,name:"Al-Mulk"},{number:78,name:"An-Naba"},{number:55,name:"Ar-Rahman"},{number:56,name:"Al-Waqiah"}].map(t=>e.jsxs("button",{className:"quick-link-btn",onClick:()=>{f(t.number.toString()),s()},children:[e.jsx("span",{className:"surah-number",children:t.number}),e.jsx("span",{className:"surah-name",children:t.name})]},t.number))})]})]}));return h?e.jsx("div",{className:"loader-container",children:e.jsx("div",{className:"loader"})}):e.jsxs("div",{className:"quran-app",children:[e.jsxs("aside",{className:`sidebar ${R?"open":""}`,children:[e.jsxs("div",{className:"sidebar-header",children:[e.jsx("h2",{children:"Surahs"}),e.jsx("button",{className:"close-sidebar",onClick:P,children:"×"})]}),e.jsx("div",{className:"sidebar-content",children:q.map(s=>e.jsxs("div",{className:"surah-item",children:[e.jsxs("button",{className:`surah-btn ${c===s.number.toString()?"active":""}`,onClick:()=>{f(s.number.toString()),P()},children:[e.jsx("span",{className:"surah-number",children:s.number}),e.jsxs("div",{className:"surah-info",children:[e.jsx("span",{className:"surah-name",children:s.name}),e.jsx("span",{className:"surah-translation",children:s.translation})]})]}),e.jsx("button",{className:"bookmark-btn",onClick:t=>{t.stopPropagation(),U(s.number)},children:S.includes(s.number)?"★":"☆"})]},s.number))})]}),e.jsxs("main",{className:"main-section",children:[e.jsxs("nav",{className:`top-nav ${r!=="ar"?"has-translation":""}`,children:[e.jsxs("button",{className:"menu-toggle",onClick:()=>w(!R),children:[e.jsx("span",{}),e.jsx("span",{}),e.jsx("span",{})]}),e.jsx("div",{className:"logo",children:e.jsx("img",{src:"/quranlogo.png",alt:"Quran App",onClick:()=>window.location.reload(),style:{cursor:"pointer"}})}),e.jsxs("div",{className:"nav-controls",children:[e.jsxs("select",{value:r,onChange:s=>d(s.target.value),className:"lang-select",children:[e.jsx("option",{value:"ar",children:"عربي"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"ur",children:"اردو"})]}),r!=="ar"&&e.jsx("select",{value:a,onChange:s=>x(s.target.value),className:"translator-select",children:[...new Set(g[r].map(s=>s.translator))].map(s=>e.jsx("option",{value:s,children:s},s))})]})]}),e.jsxs("div",{className:"content",children:[e.jsx("div",{className:"verse-controls",children:e.jsxs("div",{className:"controls-wrapper",children:[e.jsxs("select",{value:n,onChange:s=>i(s.target.value),className:"verse-select",children:[e.jsx("option",{value:"",children:"Select Verse"}),[...Array(Math.ceil(l.length/10))].map((s,t)=>e.jsx("optgroup",{label:`Verses ${t*10+1} - ${Math.min((t+1)*10,l.length)}`,children:l.slice(t*10,(t+1)*10).map(u=>e.jsxs("option",{value:u.verse,children:["Verse ",u.verse]},u.verse))},t))]}),e.jsx("button",{className:"quick-jump-btn",onClick:()=>O(!0),children:"Quick Jump"})]})}),$&&e.jsx(G,{onClose:()=>O(!1)}),e.jsx("div",{className:"verses-container",children:l.map(s=>{var t,u;return e.jsxs("div",{className:"verse-card","data-verse":s.verse,children:[e.jsx("div",{className:"verse-header",children:e.jsx("span",{className:"verse-number",children:s.verse})}),e.jsx("div",{className:"verse-arabic",dir:"rtl",children:s.text}),r!=="ar"&&e.jsx("div",{className:"verse-translation",lang:r,dir:r==="ur"?"rtl":"ltr",children:((u=(t=g[r])==null?void 0:t.find(v=>v.surah===s.surah&&v.verse===s.verse&&(!a||v.translator===a)))==null?void 0:u.text)||""})]},`${s.surah}-${s.verse}`)})})]})]}),F&&e.jsx("div",{className:"guide-popup",children:e.jsxs("div",{className:"guide-content",children:[e.jsx("div",{className:"guide-arrow",children:"↖"}),e.jsx("p",{children:"Click the menu icon to explore Surahs"}),e.jsx("button",{className:"guide-close",onClick:()=>Q(!1),children:"Got it"})]})})]})}X.createRoot(document.getElementById("root")).render(e.jsx(H.StrictMode,{children:e.jsx(re,{})}));
